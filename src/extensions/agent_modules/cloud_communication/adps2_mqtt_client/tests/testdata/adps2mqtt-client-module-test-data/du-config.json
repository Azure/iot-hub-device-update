{
    "schemaVersion": "2.0",
    "aduShellTrustedUsers": [
      "adu"
    ],
    "manufacturer": "contoso",
    "model": "espresso-v1",
    "agents": [
      {
        "name": "main",
        "runas": "adu",
        "connectionSource": {
          "connectionType": "ADPS2/MQTT",
          "connectionData": {
              "dps": {
                "globalDeviceEndpoint" : "global.azure-devices-provisioning.net",
                "idScope" : "0ne00ABF077",
                "registrationId" : "contoso-blue-device03-devbox-wus3",
                "apiVersion" : "2021-06-01",
                "tcpPort" : 8883,
                "useTLS": true,
                "mqttVersion" : 4,
                "cleanSession" : false,
                "keepAliveInSeconds" : 3600,
                "clientId" : "contoso-blue-device03-devbox-wus3",
                "certFile" : "/home/contoso/aducerts/contoso-blue-device03-devbox-wus3.cer",
                "keyFile" : "/home/contoso/aducerts/contoso-blue-device03-devbox-wus3.key",
                "qos": 1
            },
            "mqttBroker" : {
                "hostname" : "contoso-blue-devbox-wus3-eg.westus2-1.ts.eventgrid.azure.net",
                "tcpPort" : 8883,
                "useTLS": true,
                "mqttVersion" : 5,
                "cleanSession" : false,
                "keepAliveInSeconds" : 3600,
                "username" : "contoso-blue-device03-devbox-wus3",
                "clientId" : "contoso-blue-device03-devbox-wus3",
                "certFile" : "/home/contoso/aducerts/contoso-blue-device03-devbox-wus3.cer",
                "keyFile" : "/home/contoso/aducerts/contoso-blue-device03-devbox-wus3.key",
                "qos": 1
            }
          }
        },
        "manufacturer": "contoso",
        "model": "espresso-v1",
        "operationSettings" : {
          "deviceRegistrationRequest" : {
              "intervalSec" : 3600,
              "retryStrategy" : [
                  {
                      "resultRange" : {
                          "min" : 0,
                          "max" : 1
                      },
                      "params" : {
                          "maxRetries" : 10,
                          "maxDelaySec" : 36000,
                          "fallbackWaitTimeSec" : 3600,
                          "initialDelayUnitMS" :3600000,
                          "maxJitterPercentage" : 9
                      }
                  }
              ]
          }
        }
      }
    ]
  }
