{
    "$schema": "./mcu-manifest-schema.json",

    "provider" : "contoso",
    "name" : "smart-vacuum-update",
    "version" : "1.1",
    "description" : "Updates for host-firmware, bootfs, rootfs, front and rear USB cameras, and USB motors controller.",
    
    "scriptsBundle" : {
        "fileName" : "maintainer-scripts.gz",
        "sizeInBytes" : 1234,
        "hashes" : {
            "sha256" : "trVvzUg6f+3CxI6UVtEFyp3BukmtsFOmu5lSPGs0THE=",
        }
    },

    "preInstall" : { 
        "fileName": "smart-vacuum-preinstall.sh",
        "sizeInBytes": 100,
        "hashes" : {
            "sha256" : "trVvzUg6f+3CxI6UVtEFyp3BukmtsFOmu5lSPGs0THE=",
        }
    },

    "postInstall" : { 
        "fileName": "smart-vacuum-postinstall.sh",
        "sizeInBytes": 100,
        "hashes" : {
            "sha256" : "trVvzUg6f+3CxI6UVtEFyp3BukmtsFOmu5lSPGs0THE=",
        }
    },

    "updatesBundle" : {
        "fileName" : "maintainer-scripts.gz",
        "sizeInBytes" : 1234,
        "hashes" : {
            "sha256" : "trVvzUg6f+3CxI6UVtEFyp3BukmtsFOmu5lSPGs0THE=",
        }
    },

    "componentUpdates" : [
        {
            "preInstall" : { 
                "fileName": "host-bootfs-preinstall.sh",
                "sizeInBytes": 100,
                "hashes" : {
                    "sha256" : "trVvzUg6f+3CxI6UVtEFyp3BukmtsFOmu5lSPGs0THE=",
                }
            },
        
            "postInstall" : { 
                "fileName": "host-bootfs-postinstall.sh",
                "sizeInBytes": 100,
                "hashes" : {
                    "sha256" : "trVvzUg6f+3CxI6UVtEFyp3BukmtsFOmu5lSPGs0THE=",
                }
            },

            "targetNames" : [
                "host-bootfs"
            ],

            "compatibility" : [
                {
                    "manufacturer":"contoso",
                    "model":"smart-vacuum"
                }
            ],
                    
            "updateInfo" : {
                "updateType":"contoso/swupdate:1",
                "files" : {
                    "00000" : {
                        "fileName" : "smart-vacuum-fw-1.1.swu",
                        "sizeInBytes" : 2048,
                        "hashes" : {
                            "sha256" : "trVvzUg6f+3CxI6UVtEFyp3BukmtsFOmu5lSPGs0THE="
                            }
                    }
                }
            },
            
            "updatePolicy" : {
                "maxRetry" : 4,
                "installRule" : "abortOnFailure",
                "rebootBehavior" : "immediate"
            }
        },
        {
            "preInstall" : { 
                "fileName": "usb-camera-preinstall.sh",
                "sizeInBytes": 100,
                "sha256": "abcdefhijklmnopqr1234="
            },
        
            "postInstall" : { 
                "fileName": "usb-camera-postinstall.sh",
                "sizeInBytes": 100,
                "sha256": "abcdefhijklmnopqr1234="
            },

            "targetNames" : [
                "forward-usb-camera"
            ],

            "compatibility" : [
                {
                    "manufacturer":"contoso",
                    "model":"usb-camera"
                }
            ],
                    
            "updateInfo": {
                "updateType":"contoso/usb-camera:1",
                "files" : {
                    "00000" : {
                        "fileName" : "contoso-usb-camera-fw-1.1.swu",
                        "sizeInBytes" : 2048,
                        "hashes" : {
                            "sha256" : "trVvzUg6f+3CxI6UVtEFyp3BukmtsFOmu5lSPGs0THE="
                            }
                    }
                }
            },

            "updatePolicy" : {
                "maxRetry" : 5,
                "installRule" : "abortOnFailure",
                "rebootBehavior" : "none"
            }
        },
        {
            "preInstall" : { 
                "fileName": "usb-motor-controller-preinstall.sh",
                "sizeInBytes": 100,
                "sha256": "abcdefhijklmnopqr1234="
            },
        
            "postInstall" : { 
                "fileName": "usb-motor-controller-postinstall.sh",
                "sizeInBytes": 100,
                "sha256": "abcdefhijklmnopqr1234="
            },

            "targetGroups" : [
                "usb-motor-controller"
            ],

            "compatibility" : [
                {
                    "manufacturer":"contoso",
                    "model":"usb-motor-controller"
                }
            ],
                    
            "updateInfo" : {
                "updateType":"contoso/usb-motor-controller:1",
                "files" : {
                    "00000" : {
                        "fileName" : "contoso-usb-motor-controller-fw-1.1.swu",
                        "sizeInBytes" : 2048,
                        "hashes" : {
                            "sha256" : "trVvzUg6f+3CxI6UVtEFyp3BukmtsFOmu5lSPGs0THE="
                            }
                    }
                }
            },

            "updatePolicy" : {
                "maxRetry" : 5,
                "installRule" : "continueOnFailure",
                "rebootBehavior" : "none"
            }
        }

    ]
}