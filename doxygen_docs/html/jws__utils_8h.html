<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Device Update for IotHub: src/utils/jws_utils/inc/jws_utils.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Device Update for IotHub
   &#160;<span id="projectnumber">1.0.1</span>
   </div>
   <div id="projectbrief">Device Update for IoTHub delivers client update from the Device Update for IotHub service.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_313caf1132e152dd9b58bea13a4052ca.html">utils</a></li><li class="navelem"><a class="el" href="dir_b96fcac37725335f3c5ba2a61f5b7158.html">jws_utils</a></li><li class="navelem"><a class="el" href="dir_201189906017e4269a9b1694856187eb.html">inc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">jws_utils.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides helper methods for parsing and verifying JSON Web Keys and JSON Web Tokens.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="crypto__key_8h_source.html">crypto_key.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="c__utils_8h_source.html">aduc/c_utils.h</a>&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for jws_utils.h:</div>
<div class="dyncontent">
<div class="center"><img src="jws__utils_8h__incl.png" border="0" usemap="#src_2utils_2jws__utils_2inc_2jws__utils_8h" alt=""/></div>
<map name="src_2utils_2jws__utils_2inc_2jws__utils_8h" id="src_2utils_2jws__utils_2inc_2jws__utils_8h">
<area shape="rect" title="Provides helper methods for parsing and verifying JSON Web Keys and JSON Web Tokens." alt="" coords="120,5,255,47"/>
<area shape="rect" href="crypto__key_8h.html" title="Declares the Crypto Key Handle for the crypto_utils and jws_utils libraries." alt="" coords="5,95,108,121"/>
<area shape="rect" href="c__utils_8h.html" title="Helpers and macros for C code." alt="" coords="132,95,243,121"/>
<area shape="rect" title=" " alt="" coords="267,95,350,121"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="jws__utils_8h__dep__incl.png" border="0" usemap="#src_2utils_2jws__utils_2inc_2jws__utils_8hdep" alt=""/></div>
<map name="src_2utils_2jws__utils_2inc_2jws__utils_8hdep" id="src_2utils_2jws__utils_2inc_2jws__utils_8hdep">
<area shape="rect" title="Provides helper methods for parsing and verifying JSON Web Keys and JSON Web Tokens." alt="" coords="87,5,221,47"/>
<area shape="rect" href="jws__utils_8c.html" title="Provides methods for verifying Signed JSON Web Keys, JSON Web Tokens in JSON Web Signature Format,..." alt="" coords="5,102,140,143"/>
<area shape="rect" href="workflow__utils_8c.html" title="Utility functions for workflow data." alt="" coords="164,95,307,151"/>
</map>
</div>
</div>
<p><a href="jws__utils_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:af22847408e80797afa57fb41917bf722"><td class="memItemLeft" align="right" valign="top">typedef EXTERN_C_BEGIN enum <a class="el" href="jws__utils_8h.html#a01a37e9fbcfe9a247671926a718d01d5">tagJWSResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jws__utils_8h.html#af22847408e80797afa57fb41917bf722">JWSResult</a></td></tr>
<tr class="memdesc:af22847408e80797afa57fb41917bf722"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return Value for JWS Verification Calls.  <a href="jws__utils_8h.html#af22847408e80797afa57fb41917bf722">More...</a><br /></td></tr>
<tr class="separator:af22847408e80797afa57fb41917bf722"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a01a37e9fbcfe9a247671926a718d01d5"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jws__utils_8h.html#a01a37e9fbcfe9a247671926a718d01d5">tagJWSResult</a> { <br />
&#160;&#160;<a class="el" href="jws__utils_8h.html#a01a37e9fbcfe9a247671926a718d01d5ab086aa0f6e99ee40c28b97c3b94cad53">JWSResult_Failed</a> = 0, 
<a class="el" href="jws__utils_8h.html#a01a37e9fbcfe9a247671926a718d01d5aaa908d557fe12e7ab1a6a5465891e989">JWSResult_Success</a>, 
<a class="el" href="jws__utils_8h.html#a01a37e9fbcfe9a247671926a718d01d5aa295f96535022425142c057d06610044">JWSResult_BadStructure</a>, 
<a class="el" href="jws__utils_8h.html#a01a37e9fbcfe9a247671926a718d01d5a75e83e17e4c7b6c0b2d238c865eacb63">JWSResult_UnsupportedAlg</a>, 
<br />
&#160;&#160;<a class="el" href="jws__utils_8h.html#a01a37e9fbcfe9a247671926a718d01d5a30f6038ec489e34cd497e924cdb6420d">JWSResult_InvalidSignature</a>, 
<a class="el" href="jws__utils_8h.html#a01a37e9fbcfe9a247671926a718d01d5a71e4fff8e6affd3d4ece5803f9650d54">JWSResult_InvalidKid</a>
<br />
 }</td></tr>
<tr class="memdesc:a01a37e9fbcfe9a247671926a718d01d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return Value for JWS Verification Calls.  <a href="jws__utils_8h.html#a01a37e9fbcfe9a247671926a718d01d5">More...</a><br /></td></tr>
<tr class="separator:a01a37e9fbcfe9a247671926a718d01d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a351dc9ada247a8e9b06e4098c117c813"><td class="memItemLeft" align="right" valign="top"><a class="el" href="jws__utils_8h.html#af22847408e80797afa57fb41917bf722">JWSResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jws__utils_8h.html#a351dc9ada247a8e9b06e4098c117c813">VerifySJWK</a> (const char *sjwk)</td></tr>
<tr class="memdesc:a351dc9ada247a8e9b06e4098c117c813"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verifies the Base64URL encoded <code>sjwk</code> in Signed JSON Web Key (SJWK) format using the KiD found within the encoded JWKs Header.  <a href="jws__utils_8h.html#a351dc9ada247a8e9b06e4098c117c813">More...</a><br /></td></tr>
<tr class="separator:a351dc9ada247a8e9b06e4098c117c813"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3075ffac09869026077122823ab58076"><td class="memItemLeft" align="right" valign="top"><a class="el" href="jws__utils_8h.html#af22847408e80797afa57fb41917bf722">JWSResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jws__utils_8h.html#a3075ffac09869026077122823ab58076">VerifyJWSWithKey</a> (const char *blob, <a class="el" href="crypto__key_8h.html#a40d717a87c9752bb9c3e10abd839d9c8">CryptoKeyHandle</a> key)</td></tr>
<tr class="memdesc:a3075ffac09869026077122823ab58076"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verifies the Base64URL encoded <code>blob</code> JSON Web Signature (JWS) using <code>key</code>.  <a href="jws__utils_8h.html#a3075ffac09869026077122823ab58076">More...</a><br /></td></tr>
<tr class="separator:a3075ffac09869026077122823ab58076"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8f26d2d8759fa8f81968ca08f8aedcb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="jws__utils_8h.html#af22847408e80797afa57fb41917bf722">JWSResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jws__utils_8h.html#ab8f26d2d8759fa8f81968ca08f8aedcb">VerifyJWSWithSJWK</a> (const char *jws)</td></tr>
<tr class="memdesc:ab8f26d2d8759fa8f81968ca08f8aedcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verifies the BASE64URL encoded <code>blob</code> JSON Web Signature (JWS) using the key held within the Signed JSON Web Key header parameter.  <a href="jws__utils_8h.html#ab8f26d2d8759fa8f81968ca08f8aedcb">More...</a><br /></td></tr>
<tr class="separator:ab8f26d2d8759fa8f81968ca08f8aedcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab27b0826f24b4b9ccfa1aaa44abeedcc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jws__utils_8h.html#ab27b0826f24b4b9ccfa1aaa44abeedcc">GetPayloadFromJWT</a> (const char *blob, char **destBuff)</td></tr>
<tr class="memdesc:ab27b0826f24b4b9ccfa1aaa44abeedcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pulls the payload out of the JWT and converts it from base64 to a string DOES NOT VALIDATE IT.  <a href="jws__utils_8h.html#ab27b0826f24b4b9ccfa1aaa44abeedcc">More...</a><br /></td></tr>
<tr class="separator:ab27b0826f24b4b9ccfa1aaa44abeedcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad99bd52efa01d75e28cedcbfa05c31e1"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jws__utils_8h.html#ad99bd52efa01d75e28cedcbfa05c31e1">GetKeyFromBase64EncodedJWK</a> (const char *blob)</td></tr>
<tr class="memdesc:ad99bd52efa01d75e28cedcbfa05c31e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">parses the key from the JWK into a usable CryptoLib key  <a href="jws__utils_8h.html#ad99bd52efa01d75e28cedcbfa05c31e1">More...</a><br /></td></tr>
<tr class="separator:ad99bd52efa01d75e28cedcbfa05c31e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides helper methods for parsing and verifying JSON Web Keys and JSON Web Tokens. </p>
<p>The user should note that the following library expects the caller to check the inputs for malicious intent (e.g. non-utf-8 characters) and insure that all strings are null-terminated. </p><dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) Microsoft Corporation. Licensed under the MIT License. </dd></dl>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="af22847408e80797afa57fb41917bf722"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af22847408e80797afa57fb41917bf722">&#9670;&nbsp;</a></span>JWSResult</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef EXTERN_C_BEGIN enum <a class="el" href="jws__utils_8h.html#a01a37e9fbcfe9a247671926a718d01d5">tagJWSResult</a> <a class="el" href="jws__utils_8h.html#af22847408e80797afa57fb41917bf722">JWSResult</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return Value for JWS Verification Calls. </p>
<p>Note: On Definitions and Acryonyms used in this library</p>
<p>There are a few acronyms within this library that must be defined in order to prevent confusion. Some of these come from RFCs, some of them were defined for this project specifically, and others are a combination of both which were used in order to more clearly define the methods utilized here.</p>
<p>JWS = JSON Web Signature. Defined in RFC 7515. A JSON Web Signature. Used in the context of this document it is a BASE64Url encoded string (string being defined as a set of utf-8 characters) with three sections delimeted by a '.'(period). It consists of a header, a payload, and a signature. The signature is a Base64Url encoded, encrypted hash of the header and the payload. Within the context of this document a JWS is always used within this context. While our definition of a JWS does follow the RFC we have an additional header "claim" or parameter, the SJWK which is defined below.</p>
<p>JWK = JSON Web Key. Defined in RFC 7517. A JSON Web Key is a crpytographic key that follows the RFC 7517 standard. There are specific cryptographic keys which are supported by the JSON Web Algorithms (JWA) standard in RFC 7518. There are specific claims intended for specific applications within this standard. It is left as an excercise for the reader to find what is and is not supported.</p>
<p>SJWK = Signed JSON Web Key. A JSON Web Signature with a JSON Web Key as a payload. There is no specific RFC for a SJWK although the JSON Web Key RFC does indicate one can be transmitted as a JWS as we are defining here.</p>
<p>JWT = JSON Web Token. Defined in RFC 7519. A JSON Web Token is a set of "claims" in JWS format. It is the larger construct which contains the header, the payload, and the signature format described in the JWS standard. One can think of a JWT as the raw form of a JWS without the signature. That is why we do not "validate" a JWT. We validate it's signature (the JWS), but we do extract a JWT's payload. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a01a37e9fbcfe9a247671926a718d01d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01a37e9fbcfe9a247671926a718d01d5">&#9670;&nbsp;</a></span>tagJWSResult</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="jws__utils_8h.html#a01a37e9fbcfe9a247671926a718d01d5">tagJWSResult</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return Value for JWS Verification Calls. </p>
<p>Note: On Definitions and Acryonyms used in this library</p>
<p>There are a few acronyms within this library that must be defined in order to prevent confusion. Some of these come from RFCs, some of them were defined for this project specifically, and others are a combination of both which were used in order to more clearly define the methods utilized here.</p>
<p>JWS = JSON Web Signature. Defined in RFC 7515. A JSON Web Signature. Used in the context of this document it is a BASE64Url encoded string (string being defined as a set of utf-8 characters) with three sections delimeted by a '.'(period). It consists of a header, a payload, and a signature. The signature is a Base64Url encoded, encrypted hash of the header and the payload. Within the context of this document a JWS is always used within this context. While our definition of a JWS does follow the RFC we have an additional header "claim" or parameter, the SJWK which is defined below.</p>
<p>JWK = JSON Web Key. Defined in RFC 7517. A JSON Web Key is a crpytographic key that follows the RFC 7517 standard. There are specific cryptographic keys which are supported by the JSON Web Algorithms (JWA) standard in RFC 7518. There are specific claims intended for specific applications within this standard. It is left as an excercise for the reader to find what is and is not supported.</p>
<p>SJWK = Signed JSON Web Key. A JSON Web Signature with a JSON Web Key as a payload. There is no specific RFC for a SJWK although the JSON Web Key RFC does indicate one can be transmitted as a JWS as we are defining here.</p>
<p>JWT = JSON Web Token. Defined in RFC 7519. A JSON Web Token is a set of "claims" in JWS format. It is the larger construct which contains the header, the payload, and the signature format described in the JWS standard. One can think of a JWT as the raw form of a JWS without the signature. That is why we do not "validate" a JWT. We validate it's signature (the JWS), but we do extract a JWT's payload. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a01a37e9fbcfe9a247671926a718d01d5ab086aa0f6e99ee40c28b97c3b94cad53"></a>JWSResult_Failed&#160;</td><td class="fielddoc"><p>Failed </p>
</td></tr>
<tr><td class="fieldname"><a id="a01a37e9fbcfe9a247671926a718d01d5aaa908d557fe12e7ab1a6a5465891e989"></a>JWSResult_Success&#160;</td><td class="fielddoc"><p>Succeeded </p>
</td></tr>
<tr><td class="fieldname"><a id="a01a37e9fbcfe9a247671926a718d01d5aa295f96535022425142c057d06610044"></a>JWSResult_BadStructure&#160;</td><td class="fielddoc"><p>JWS structure is not correct </p>
</td></tr>
<tr><td class="fieldname"><a id="a01a37e9fbcfe9a247671926a718d01d5a75e83e17e4c7b6c0b2d238c865eacb63"></a>JWSResult_UnsupportedAlg&#160;</td><td class="fielddoc"><p>Algorithm used to sign the JWS is not supported </p>
</td></tr>
<tr><td class="fieldname"><a id="a01a37e9fbcfe9a247671926a718d01d5a30f6038ec489e34cd497e924cdb6420d"></a>JWSResult_InvalidSignature&#160;</td><td class="fielddoc"><p>Signature of the JWS is invalid </p>
</td></tr>
<tr><td class="fieldname"><a id="a01a37e9fbcfe9a247671926a718d01d5a71e4fff8e6affd3d4ece5803f9650d54"></a>JWSResult_InvalidKid&#160;</td><td class="fielddoc"><p>Key Identifier invalid </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad99bd52efa01d75e28cedcbfa05c31e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad99bd52efa01d75e28cedcbfa05c31e1">&#9670;&nbsp;</a></span>GetKeyFromBase64EncodedJWK()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* GetKeyFromBase64EncodedJWK </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>blob</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>parses the key from the JWK into a usable CryptoLib key </p>
<p>Only supports RSA keys right now, more support will be added later. DOES VALIDATE THE JWK </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">blob</td><td>a Base64 encoded JSON Web Key which contains the parameters for creating a key </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the key on success, NULL on failure </dd></dl>

</div>
</div>
<a id="ab27b0826f24b4b9ccfa1aaa44abeedcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab27b0826f24b4b9ccfa1aaa44abeedcc">&#9670;&nbsp;</a></span>GetPayloadFromJWT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GetPayloadFromJWT </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>blob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>destBuff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pulls the payload out of the JWT and converts it from base64 to a string DOES NOT VALIDATE IT. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">blob</td><td>a Base64URL encoded JSON Web Token (JWT) in JSON Web Signature format </td></tr>
    <tr><td class="paramname">destBuff</td><td>the destination buffer for the JWT's payload, allocated within the function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a value of JWSResult </dd></dl>

</div>
</div>
<a id="a3075ffac09869026077122823ab58076"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3075ffac09869026077122823ab58076">&#9670;&nbsp;</a></span>VerifyJWSWithKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="jws__utils_8h.html#af22847408e80797afa57fb41917bf722">JWSResult</a> VerifyJWSWithKey </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>blob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="crypto__key_8h.html#a40d717a87c9752bb9c3e10abd839d9c8">CryptoKeyHandle</a>&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Verifies the Base64URL encoded <code>blob</code> JSON Web Signature (JWS) using <code>key</code>. </p>
<p>Function expects a Base64URL encoded <code>blob</code> in JSON Web Signature format and verifies its signature using <code>key</code> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">blob</td><td>a Base64URL encoded JSON Web Token in JSON Web Signature format </td></tr>
    <tr><td class="paramname">key</td><td>the public key created with the crypto_lib functions that corresponds to the one used to sign the <code>blob</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a value of JWSResult </dd></dl>

</div>
</div>
<a id="ab8f26d2d8759fa8f81968ca08f8aedcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8f26d2d8759fa8f81968ca08f8aedcb">&#9670;&nbsp;</a></span>VerifyJWSWithSJWK()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="jws__utils_8h.html#af22847408e80797afa57fb41917bf722">JWSResult</a> VerifyJWSWithSJWK </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>jws</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Verifies the BASE64URL encoded <code>blob</code> JSON Web Signature (JWS) using the key held within the Signed JSON Web Key header parameter. </p>
<p>Verifies the Signed JSON Web Key (SJWK) and uses the key from the SJWK to validate the JSON Web Signature <code>blob</code> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">jws</td><td>a Base64URL encoded JSON Web Token in JSON Web Signature format with a Signed JSON Web Key within the header </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a value of JWSResult </dd></dl>

</div>
</div>
<a id="a351dc9ada247a8e9b06e4098c117c813"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a351dc9ada247a8e9b06e4098c117c813">&#9670;&nbsp;</a></span>VerifySJWK()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="jws__utils_8h.html#af22847408e80797afa57fb41917bf722">JWSResult</a> VerifySJWK </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sjwk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Verifies the Base64URL encoded <code>sjwk</code> in Signed JSON Web Key (SJWK) format using the KiD found within the encoded JWKs Header. </p>
<p>A Signed JSON Web Key (SJWK) is JWK in JSON Web Signature (JWS) format. The function parses the header for the kid, builds the associated key, and then verifies the signature of the JWK </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sjwk</td><td>a base64URL encoded string that contains the Signed JSON Web Key </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a value of JWSResult </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
