<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Device Update for IotHub: src/extensions/inc/aduc/exports/extension_download_handler_export_symbols.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Device Update for IotHub
   &#160;<span id="projectnumber">1.0.1</span>
   </div>
   <div id="projectbrief">Device Update for IoTHub delivers client update from the Device Update for IotHub service.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_40c73bf2095fd0473b1b85ccdcac2768.html">extensions</a></li><li class="navelem"><a class="el" href="dir_5ec935d27ce007f1101fc862d8e60cc5.html">inc</a></li><li class="navelem"><a class="el" href="dir_8afc72334334f8b43d20f76d9dc7b597.html">aduc</a></li><li class="navelem"><a class="el" href="dir_1596c10fc5b9200e57bc0c08622f8f54.html">exports</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">extension_download_handler_export_symbols.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The function export symbols for download handler extensions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="extension__common__export__symbols_8h_source.html">aduc/exports/extension_common_export_symbols.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for extension_download_handler_export_symbols.h:</div>
<div class="dyncontent">
<div class="center"><img src="extension__download__handler__export__symbols_8h__incl.png" border="0" usemap="#src_2extensions_2inc_2aduc_2exports_2extension__download__handler__export__symbols_8h" alt=""/></div>
<map name="src_2extensions_2inc_2aduc_2exports_2extension__download__handler__export__symbols_8h" id="src_2extensions_2inc_2aduc_2exports_2extension__download__handler__export__symbols_8h">
<area shape="rect" title="The function export symbols for download handler extensions." alt="" coords="11,5,209,76"/>
<area shape="rect" href="extension__common__export__symbols_8h.html" title="The common function export symbols used by specific extension export symbols headers." alt="" coords="5,124,215,165"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="extension__download__handler__export__symbols_8h__dep__incl.png" border="0" usemap="#src_2extensions_2inc_2aduc_2exports_2extension__download__handler__export__symbols_8hdep" alt=""/></div>
<!-- MAP 0 -->
</div>
</div>
<p><a href="extension__download__handler__export__symbols_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ade51eed7e53ddfe6c064db5c2b5b2577"><td class="memItemLeft" align="right" valign="top"><a id="ade51eed7e53ddfe6c064db5c2b5b2577"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DOWNLOAD_HANDLER__GetContractInfo__EXPORT_SYMBOL</b>&#160;&#160;&#160;<a class="el" href="extension__common__export__symbols_8h.html#a5e0b3c78c7add2136d7a50433dc73791">GetContractInfo__EXPORT_SYMBOL</a></td></tr>
<tr class="separator:ade51eed7e53ddfe6c064db5c2b5b2577"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae28d35c45d9a42f4f253340ac4b62ae"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extension__download__handler__export__symbols_8h.html#aae28d35c45d9a42f4f253340ac4b62ae">DOWNLOAD_HANDLER__Initialize__EXPORT_SYMBOL</a>&#160;&#160;&#160;&quot;Initialize&quot;</td></tr>
<tr class="memdesc:aae28d35c45d9a42f4f253340ac4b62ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">One-time initialization for the download handler.  <a href="extension__download__handler__export__symbols_8h.html#aae28d35c45d9a42f4f253340ac4b62ae">More...</a><br /></td></tr>
<tr class="separator:aae28d35c45d9a42f4f253340ac4b62ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91be98aa8d3506f9225c6138304fbe46"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extension__download__handler__export__symbols_8h.html#a91be98aa8d3506f9225c6138304fbe46">DOWNLOAD_HANDLER__Cleanup__EXPORT_SYMBOL</a>&#160;&#160;&#160;&quot;Cleanup&quot;</td></tr>
<tr class="memdesc:a91be98aa8d3506f9225c6138304fbe46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleanup logic before library is unloaded.  <a href="extension__download__handler__export__symbols_8h.html#a91be98aa8d3506f9225c6138304fbe46">More...</a><br /></td></tr>
<tr class="separator:a91be98aa8d3506f9225c6138304fbe46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2012e1794d661482def5551f790bde17"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extension__download__handler__export__symbols_8h.html#a2012e1794d661482def5551f790bde17">DOWNLOAD_HANDLER__ProcessUpdate__EXPORT_SYMBOL</a>&#160;&#160;&#160;&quot;ProcessUpdate&quot;</td></tr>
<tr class="memdesc:a2012e1794d661482def5551f790bde17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes the target update from FileEntity metadata at the given output filepath. For this download handler, each relatedFile in the FileEntity metadata represents a delta update, which is much smaller than the target update content. It attempts to download the delta update and produce the target update using the delta processor. If successful, it tells the agent to skip download; otherwise, it tells the agent that a full download is required.  <a href="extension__download__handler__export__symbols_8h.html#a2012e1794d661482def5551f790bde17">More...</a><br /></td></tr>
<tr class="separator:a2012e1794d661482def5551f790bde17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4244cfd847b715251a1badf5cef7c74e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extension__download__handler__export__symbols_8h.html#a4244cfd847b715251a1badf5cef7c74e">DOWNLOAD_HANDLER__OnUpdateWorkflowCompleted__EXPORT_SYMBOL</a>&#160;&#160;&#160;&quot;OnUpdateWorkflowCompleted&quot;</td></tr>
<tr class="memdesc:a4244cfd847b715251a1badf5cef7c74e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the update workflow successfully completes. In the case of Delta download handler plugin, it moves all the payloads from sandbox to cache so that they will available as source updates for future delta updates.  <a href="extension__download__handler__export__symbols_8h.html#a4244cfd847b715251a1badf5cef7c74e">More...</a><br /></td></tr>
<tr class="separator:a4244cfd847b715251a1badf5cef7c74e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The function export symbols for download handler extensions. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) Microsoft Corporation. Licensed under the MIT License. </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a91be98aa8d3506f9225c6138304fbe46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91be98aa8d3506f9225c6138304fbe46">&#9670;&nbsp;</a></span>DOWNLOAD_HANDLER__Cleanup__EXPORT_SYMBOL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DOWNLOAD_HANDLER__Cleanup__EXPORT_SYMBOL&#160;&#160;&#160;&quot;Cleanup&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cleanup logic before library is unloaded. </p>
<p>void <a class="el" href="microsoft__delta__download__handler__plugin_8EXPORTS_8c.html#a57d3daebcb78f38db7c72ee39d4a77f5" title="Cleanup logic before library is unloaded.">Cleanup()</a> </p>

</div>
</div>
<a id="aae28d35c45d9a42f4f253340ac4b62ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae28d35c45d9a42f4f253340ac4b62ae">&#9670;&nbsp;</a></span>DOWNLOAD_HANDLER__Initialize__EXPORT_SYMBOL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DOWNLOAD_HANDLER__Initialize__EXPORT_SYMBOL&#160;&#160;&#160;&quot;Initialize&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>One-time initialization for the download handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">logLevel</td><td>The desired loglevel if logging is used.</td></tr>
  </table>
  </dd>
</dl>
<p>void <a class="el" href="microsoft__delta__download__handler__plugin_8EXPORTS_8c.html#abd01c8ab2a0e84bf00400d74357e4740" title="One-time initialization for the download handler.">Initialize(ADUC_LOG_SEVERITY logLevel)</a> </p>

</div>
</div>
<a id="a4244cfd847b715251a1badf5cef7c74e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4244cfd847b715251a1badf5cef7c74e">&#9670;&nbsp;</a></span>DOWNLOAD_HANDLER__OnUpdateWorkflowCompleted__EXPORT_SYMBOL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DOWNLOAD_HANDLER__OnUpdateWorkflowCompleted__EXPORT_SYMBOL&#160;&#160;&#160;&quot;OnUpdateWorkflowCompleted&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called when the update workflow successfully completes. In the case of Delta download handler plugin, it moves all the payloads from sandbox to cache so that they will available as source updates for future delta updates. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">workflowHandle</td><td>The workflow handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ADUC_Result The result.</dd></dl>
<p>ADUC_Result <a class="el" href="microsoft__delta__download__handler__plugin_8EXPORTS_8c.html#aa3dc445bbca848745da01db356e6ecd4" title="Called when the update workflow successfully completes. In the case of Delta download handler plugin,...">OnUpdateWorkflowCompleted(const ADUC_WorkflowHandle workflowHandle)</a> </p>

</div>
</div>
<a id="a2012e1794d661482def5551f790bde17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2012e1794d661482def5551f790bde17">&#9670;&nbsp;</a></span>DOWNLOAD_HANDLER__ProcessUpdate__EXPORT_SYMBOL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DOWNLOAD_HANDLER__ProcessUpdate__EXPORT_SYMBOL&#160;&#160;&#160;&quot;ProcessUpdate&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes the target update from FileEntity metadata at the given output filepath. For this download handler, each relatedFile in the FileEntity metadata represents a delta update, which is much smaller than the target update content. It attempts to download the delta update and produce the target update using the delta processor. If successful, it tells the agent to skip download; otherwise, it tells the agent that a full download is required. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">workflowHandle</td><td>The workflow handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fileEntity</td><td>The FileEntity metadata of the update content and its related files. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">targetUpdateFilePath</td><td>The target update path to write the update content when returning ADUC_Result_Download_Handler_SuccessSkipDownload. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ADUC_Result The result. Returning ADUC_Result_Download_Handler_SuccessSkipDownload ResultCode tells the agent to skip downloading the update content (since this download handler able to produce it at the targetUpdateFilePath). Returning ADUC_Result_Download_Handler_RequiredFullDownload ResultCode tells the agent to download the update content (this download handler did not produce it by other means).</dd></dl>
<p>ADUC_Result <a class="el" href="microsoft__delta__download__handler__plugin_8EXPORTS_8c.html#a3459b0ac021dc96cc0628a57220ba68d" title="Processes the target update from FileEntity metadata at the given output filepath....">ProcessUpdate(const ADUC_WorkflowHandle workflowHandle, const ADUC_FileEntity* fileEntity, const char* targetUpdateFilePath)</a> </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
