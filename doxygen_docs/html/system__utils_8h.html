<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Device Update for IotHub: src/utils/system_utils/inc/aduc/system_utils.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Device Update for IotHub
   &#160;<span id="projectnumber">1.0.1</span>
   </div>
   <div id="projectbrief">Device Update for IoTHub delivers client update from the Device Update for IotHub service.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_313caf1132e152dd9b58bea13a4052ca.html">utils</a></li><li class="navelem"><a class="el" href="dir_372fcbdb96f241679cb7c92fe5991342.html">system_utils</a></li><li class="navelem"><a class="el" href="dir_7f6940e8ce446c5e534ef47d0055b48d.html">inc</a></li><li class="navelem"><a class="el" href="dir_50cdc5ebc97549b006227d6c67a6e5bf.html">aduc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">system_utils.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>System level utilities, e.g. directory management, reboot, etc.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="c__utils_8h_source.html">aduc/c_utils.h</a>&gt;</code><br />
<code>#include &lt;azure_c_shared_utility/strings.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;aducpal/sys_stat.h&gt;</code><br />
<code>#include &lt;aducpal/unistd.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for system_utils.h:</div>
<div class="dyncontent">
<div class="center"><img src="system__utils_8h__incl.png" border="0" usemap="#src_2utils_2system__utils_2inc_2aduc_2system__utils_8h" alt=""/></div>
<map name="src_2utils_2system__utils_2inc_2aduc_2system__utils_8h" id="src_2utils_2system__utils_2inc_2aduc_2system__utils_8h">
<area shape="rect" title="System level utilities, e.g. directory management, reboot, etc." alt="" coords="285,5,463,47"/>
<area shape="rect" href="c__utils_8h.html" title="Helpers and macros for C code." alt="" coords="5,102,116,129"/>
<area shape="rect" title=" " alt="" coords="141,95,309,136"/>
<area shape="rect" title=" " alt="" coords="333,102,415,129"/>
<area shape="rect" href="sys__stat_8h_source.html" title=" " alt="" coords="440,102,583,129"/>
<area shape="rect" href="unistd_8h_source.html" title=" " alt="" coords="607,102,736,129"/>
<area shape="rect" title=" " alt="" coords="469,184,554,211"/>
<area shape="rect" title=" " alt="" coords="619,184,724,211"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="system__utils_8h__dep__incl.png" border="0" usemap="#src_2utils_2system__utils_2inc_2aduc_2system__utils_8hdep" alt=""/></div>
<!-- MAP 0 -->
</div>
</div>
<p><a href="system__utils_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtagADUC__SystemUtils__ForEachDirFunctor.html">tagADUC_SystemUtils_ForEachDirFunctor</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function object for use with SystemUtils_ForEachDir with optional context.  <a href="structtagADUC__SystemUtils__ForEachDirFunctor.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a5cfe1d6eabc173e31485040fc844a675"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structtagADUC__SystemUtils__ForEachDirFunctor.html">tagADUC_SystemUtils_ForEachDirFunctor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system__utils_8h.html#a5cfe1d6eabc173e31485040fc844a675">ADUC_SystemUtils_ForEachDirFunctor</a></td></tr>
<tr class="memdesc:a5cfe1d6eabc173e31485040fc844a675"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function object for use with SystemUtils_ForEachDir with optional context.  <a href="system__utils_8h.html#a5cfe1d6eabc173e31485040fc844a675">More...</a><br /></td></tr>
<tr class="separator:a5cfe1d6eabc173e31485040fc844a675"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af3a8258cceae5bef86c146c6667a7377"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system__utils_8h.html#af3a8258cceae5bef86c146c6667a7377">ADUC_SystemUtils_GetTemporaryPathName</a> ()</td></tr>
<tr class="memdesc:af3a8258cceae5bef86c146c6667a7377"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve system temporary path with a subfolder.  <a href="system__utils_8h.html#af3a8258cceae5bef86c146c6667a7377">More...</a><br /></td></tr>
<tr class="separator:af3a8258cceae5bef86c146c6667a7377"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2e91ed5c0a57f8e6487d55b61e48b93"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system__utils_8h.html#ac2e91ed5c0a57f8e6487d55b61e48b93">ADUC_SystemUtils_MkTemp</a> (char *tmpl)</td></tr>
<tr class="memdesc:ac2e91ed5c0a57f8e6487d55b61e48b93"><td class="mdescLeft">&#160;</td><td class="mdescRight">mktemp() implementation  <a href="system__utils_8h.html#ac2e91ed5c0a57f8e6487d55b61e48b93">More...</a><br /></td></tr>
<tr class="separator:ac2e91ed5c0a57f8e6487d55b61e48b93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad56ab3335dc7ba82e4741e40455df865"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system__utils_8h.html#ad56ab3335dc7ba82e4741e40455df865">ADUC_SystemUtils_MkDir</a> (const char *path, uid_t userId, gid_t groupId, mode_t mode)</td></tr>
<tr class="memdesc:ad56ab3335dc7ba82e4741e40455df865"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper for mkdir that handles a number of common conditions, e.g. don't fail if directory already exists.  <a href="system__utils_8h.html#ad56ab3335dc7ba82e4741e40455df865">More...</a><br /></td></tr>
<tr class="separator:ad56ab3335dc7ba82e4741e40455df865"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f7ed0b67b9bf184ee29757285d6bc88"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system__utils_8h.html#a4f7ed0b67b9bf184ee29757285d6bc88">ADUC_SystemUtils_MkDirDefault</a> (const char *path)</td></tr>
<tr class="memdesc:a4f7ed0b67b9bf184ee29757285d6bc88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper for mkdir that handles a number of common conditions, e.g. don't fail if directory already exists.  <a href="system__utils_8h.html#a4f7ed0b67b9bf184ee29757285d6bc88">More...</a><br /></td></tr>
<tr class="separator:a4f7ed0b67b9bf184ee29757285d6bc88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90c69df409dd067239fbd71aa88f7858"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system__utils_8h.html#a90c69df409dd067239fbd71aa88f7858">ADUC_SystemUtils_MkDirRecursive</a> (const char *path, uid_t userId, gid_t groupId, mode_t mode)</td></tr>
<tr class="memdesc:a90c69df409dd067239fbd71aa88f7858"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a directory tree.  <a href="system__utils_8h.html#a90c69df409dd067239fbd71aa88f7858">More...</a><br /></td></tr>
<tr class="separator:a90c69df409dd067239fbd71aa88f7858"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6174b0a64feb7d5dd1b90a400c11ddff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system__utils_8h.html#a6174b0a64feb7d5dd1b90a400c11ddff">ADUC_SystemUtils_MkDirRecursiveDefault</a> (const char *path)</td></tr>
<tr class="memdesc:a6174b0a64feb7d5dd1b90a400c11ddff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a directory tree.  <a href="system__utils_8h.html#a6174b0a64feb7d5dd1b90a400c11ddff">More...</a><br /></td></tr>
<tr class="separator:a6174b0a64feb7d5dd1b90a400c11ddff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa53935edecb09a2a206562b9bb1d521d"><td class="memItemLeft" align="right" valign="top"><a id="aa53935edecb09a2a206562b9bb1d521d"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>ADUC_SystemUtils_MkSandboxDirRecursive</b> (const char *path)</td></tr>
<tr class="separator:aa53935edecb09a2a206562b9bb1d521d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaccd1b7063d10909ca5c5f0f15627da"><td class="memItemLeft" align="right" valign="top"><a id="abaccd1b7063d10909ca5c5f0f15627da"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>ADUC_SystemUtils_MkDirRecursiveAduUser</b> (const char *path)</td></tr>
<tr class="separator:abaccd1b7063d10909ca5c5f0f15627da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ef595b9a17fe544798322e351116bd8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system__utils_8h.html#a2ef595b9a17fe544798322e351116bd8">ADUC_SystemUtils_RmDirRecursive</a> (const char *path)</td></tr>
<tr class="memdesc:a2ef595b9a17fe544798322e351116bd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a directory recursively.  <a href="system__utils_8h.html#a2ef595b9a17fe544798322e351116bd8">More...</a><br /></td></tr>
<tr class="separator:a2ef595b9a17fe544798322e351116bd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca5210fe127d3dbb293d17dcbededc75"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system__utils_8h.html#aca5210fe127d3dbb293d17dcbededc75">ADUC_SystemUtils_CopyFileToDir</a> (const char *filePath, const char *dirPath, bool overwriteExistingFile)</td></tr>
<tr class="memdesc:aca5210fe127d3dbb293d17dcbededc75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies the file at <code>filePath</code> to <code>dirPath</code> with the same name.  <a href="system__utils_8h.html#aca5210fe127d3dbb293d17dcbededc75">More...</a><br /></td></tr>
<tr class="separator:aca5210fe127d3dbb293d17dcbededc75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7770614ef0aabef4a50519523aa9807e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system__utils_8h.html#a7770614ef0aabef4a50519523aa9807e">ADUC_SystemUtils_WriteStringToFile</a> (const char *path, const char *buff)</td></tr>
<tr class="memdesc:a7770614ef0aabef4a50519523aa9807e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes <code>buff</code> to file at <code>path</code> using.  <a href="system__utils_8h.html#a7770614ef0aabef4a50519523aa9807e">More...</a><br /></td></tr>
<tr class="separator:a7770614ef0aabef4a50519523aa9807e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2535a13bca7dff2bf00eb2438a00d786"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system__utils_8h.html#a2535a13bca7dff2bf00eb2438a00d786">ADUC_SystemUtils_ReadStringFromFile</a> (const char *path, char *buff, size_t buffLen)</td></tr>
<tr class="memdesc:a2535a13bca7dff2bf00eb2438a00d786"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the data from <code>path</code> into <code>buff</code> up to <code>buffLen</code> bytes.  <a href="system__utils_8h.html#a2535a13bca7dff2bf00eb2438a00d786">More...</a><br /></td></tr>
<tr class="separator:a2535a13bca7dff2bf00eb2438a00d786"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1449bf64b859fd5bde7f36eda8682db7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system__utils_8h.html#a1449bf64b859fd5bde7f36eda8682db7">SystemUtils_IsDir</a> (const char *path, int *err)</td></tr>
<tr class="memdesc:a1449bf64b859fd5bde7f36eda8682db7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the file object at the given path is a directory.  <a href="system__utils_8h.html#a1449bf64b859fd5bde7f36eda8682db7">More...</a><br /></td></tr>
<tr class="separator:a1449bf64b859fd5bde7f36eda8682db7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a9fa34c2cc7a495ac26df879057bb7c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system__utils_8h.html#a8a9fa34c2cc7a495ac26df879057bb7c">SystemUtils_IsFile</a> (const char *path, int *err)</td></tr>
<tr class="memdesc:a8a9fa34c2cc7a495ac26df879057bb7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the file object at the given path is a file.  <a href="system__utils_8h.html#a8a9fa34c2cc7a495ac26df879057bb7c">More...</a><br /></td></tr>
<tr class="separator:a8a9fa34c2cc7a495ac26df879057bb7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a849620164e5c7d219fa6c3d9909e978d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system__utils_8h.html#a849620164e5c7d219fa6c3d9909e978d">SystemUtils_ForEachDir</a> (const char *baseDir, const char *excludeDir, <a class="el" href="system__utils_8h.html#a5cfe1d6eabc173e31485040fc844a675">ADUC_SystemUtils_ForEachDirFunctor</a> *perDirActionFunctor)</td></tr>
<tr class="memdesc:a849620164e5c7d219fa6c3d9909e978d"><td class="mdescLeft">&#160;</td><td class="mdescRight">For each dir_name in the baseDir, it calls the action function with the baseDir and dir_name.  <a href="system__utils_8h.html#a849620164e5c7d219fa6c3d9909e978d">More...</a><br /></td></tr>
<tr class="separator:a849620164e5c7d219fa6c3d9909e978d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b482656ff1b02c76a553617120f6a67"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="system__utils_8h.html#a6b482656ff1b02c76a553617120f6a67">ADUC_SystemUtils_FormatFilePathHelper</a> (STRING_HANDLE *newFilePath, const char *filePath, const char *dirPath)</td></tr>
<tr class="memdesc:a6b482656ff1b02c76a553617120f6a67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Takes the filename from <code>filePath</code> and concatenates it with <code>dirPath</code> and stores the result in <code>newFilePath</code>.  <a href="system__utils_8h.html#a6b482656ff1b02c76a553617120f6a67">More...</a><br /></td></tr>
<tr class="separator:a6b482656ff1b02c76a553617120f6a67"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aa37934114d42bb3efd91c3555b65d954"><td class="memItemLeft" align="right" valign="top"><a id="aa37934114d42bb3efd91c3555b65d954"></a>
EXTERN_C_BEGIN typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><b>ADUC_SystemUtils_ForEachDirFunc</b> )(void *context, const char *baseDir, const char *subDir)</td></tr>
<tr class="separator:aa37934114d42bb3efd91c3555b65d954"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>System level utilities, e.g. directory management, reboot, etc. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) Microsoft Corporation. Licensed under the MIT License. </dd></dl>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a5cfe1d6eabc173e31485040fc844a675"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cfe1d6eabc173e31485040fc844a675">&#9670;&nbsp;</a></span>ADUC_SystemUtils_ForEachDirFunctor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structtagADUC__SystemUtils__ForEachDirFunctor.html">tagADUC_SystemUtils_ForEachDirFunctor</a> <a class="el" href="system__utils_8h.html#a5cfe1d6eabc173e31485040fc844a675">ADUC_SystemUtils_ForEachDirFunctor</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function object for use with SystemUtils_ForEachDir with optional context. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aca5210fe127d3dbb293d17dcbededc75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca5210fe127d3dbb293d17dcbededc75">&#9670;&nbsp;</a></span>ADUC_SystemUtils_CopyFileToDir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ADUC_SystemUtils_CopyFileToDir </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dirPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>overwriteExistingFile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copies the file at <code>filePath</code> to <code>dirPath</code> with the same name. </p>
<p>Preserves the ownership and filemode bit permissions </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filePath</td><td>path to the file </td></tr>
    <tr><td class="paramname">dirPath</td><td>path to the directory </td></tr>
    <tr><td class="paramname">overwriteExistingFile</td><td>if set to true will overwrite the existing file in <code>dirPath</code> named with the filename in <code>fileName</code> if it exists </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the result of the operation </dd></dl>

</div>
</div>
<a id="a6b482656ff1b02c76a553617120f6a67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b482656ff1b02c76a553617120f6a67">&#9670;&nbsp;</a></span>ADUC_SystemUtils_FormatFilePathHelper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ADUC_SystemUtils_FormatFilePathHelper </td>
          <td>(</td>
          <td class="paramtype">STRING_HANDLE *&#160;</td>
          <td class="paramname"><em>newFilePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dirPath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Takes the filename from <code>filePath</code> and concatenates it with <code>dirPath</code> and stores the result in <code>newFilePath</code>. </p>
<p>newFilePath should be freed using STRING_delete() by caller </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">newFilePath</td><td>handle that will be allocated and intiialized with the new file path </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filePath</td><td>the path to a file who's name will be stripped out </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dirPath</td><td>directoryPath to have <code>filePath's</code> file name appended to it </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success; false otherwise </dd></dl>

</div>
</div>
<a id="af3a8258cceae5bef86c146c6667a7377"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3a8258cceae5bef86c146c6667a7377">&#9670;&nbsp;</a></span>ADUC_SystemUtils_GetTemporaryPathName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ADUC_SystemUtils_GetTemporaryPathName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve system temporary path with a subfolder. </p>
<p>This only returns a folder name, which is neither created nor checked for existence.</p>
<p>Loosely based on Boost's implementation, which is: TMPDIR &gt; TMP &gt; TEMP &gt; TEMPDIR &gt; (android only) "/data/local/tmp" &gt; "/tmp"</p>
<dl class="section return"><dt>Returns</dt><dd>const char* Returns the path to the temporary directory. This is a long-lived string. </dd></dl>

</div>
</div>
<a id="ad56ab3335dc7ba82e4741e40455df865"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad56ab3335dc7ba82e4741e40455df865">&#9670;&nbsp;</a></span>ADUC_SystemUtils_MkDir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ADUC_SystemUtils_MkDir </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uid_t&#160;</td>
          <td class="paramname"><em>userId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gid_t&#160;</td>
          <td class="paramname"><em>groupId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mode_t&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wrapper for mkdir that handles a number of common conditions, e.g. don't fail if directory already exists. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path to the directory to create. </td></tr>
    <tr><td class="paramname">userId</td><td>The uid_t of the user owner the new directory. -1 to indicate the system default behavior. </td></tr>
    <tr><td class="paramname">groupId</td><td>The gid_t of the group owner of the new directory. -1 to indicate the system default behavior. </td></tr>
    <tr><td class="paramname">mode</td><td>The mode_t of the desired permissions of the new directory.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>errno, zero on success. </dd></dl>

</div>
</div>
<a id="a4f7ed0b67b9bf184ee29757285d6bc88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f7ed0b67b9bf184ee29757285d6bc88">&#9670;&nbsp;</a></span>ADUC_SystemUtils_MkDirDefault()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ADUC_SystemUtils_MkDirDefault </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wrapper for mkdir that handles a number of common conditions, e.g. don't fail if directory already exists. </p>
<p>Calls ADUC_SystemUtils_MkDir with: userId == -1 (system default behavior) groupId == -1 (system default behavior) mode == S_IRWXU | S_IRGRP | S_IWGRP | S_IXGRP</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Path to create.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>errno, zero on success. </dd></dl>

</div>
</div>
<a id="a90c69df409dd067239fbd71aa88f7858"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90c69df409dd067239fbd71aa88f7858">&#9670;&nbsp;</a></span>ADUC_SystemUtils_MkDirRecursive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ADUC_SystemUtils_MkDirRecursive </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uid_t&#160;</td>
          <td class="paramname"><em>userId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gid_t&#160;</td>
          <td class="paramname"><em>groupId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mode_t&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a directory tree. </p>
<p>On error, none of the partially created tree is cleaned up.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Path to create. </td></tr>
    <tr><td class="paramname">userId</td><td>The uid_t of the user owner any new directory. -1 to indicate the system default behavior. </td></tr>
    <tr><td class="paramname">groupId</td><td>The gid_t of the group owner any new directory. -1 to indicate the system default behavior. </td></tr>
    <tr><td class="paramname">mode</td><td>The mode_t of the desired permissions any new directory.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>errno, zero on success. </dd></dl>

</div>
</div>
<a id="a6174b0a64feb7d5dd1b90a400c11ddff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6174b0a64feb7d5dd1b90a400c11ddff">&#9670;&nbsp;</a></span>ADUC_SystemUtils_MkDirRecursiveDefault()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ADUC_SystemUtils_MkDirRecursiveDefault </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a directory tree. </p>
<p>Calls ADUC_SystemUtils_MkDirRecursive with: userId == -1 (system default behavior) groupId == -1 (system default behavior) mode == S_IRWXU | S_IRWXG</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Path to create.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>errno, zero on success. </dd></dl>

</div>
</div>
<a id="ac2e91ed5c0a57f8e6487d55b61e48b93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2e91ed5c0a57f8e6487d55b61e48b93">&#9670;&nbsp;</a></span>ADUC_SystemUtils_MkTemp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* ADUC_SystemUtils_MkTemp </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>tmpl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>mktemp() implementation </p>
<p>mktemp() is generally considered unsafe as the temporary names can be easy to guess, and there are a limited number of combinations.</p>
<p>However, for unit tests, it can be useful, so it's highly recommended that this method is only used for unit tests.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tmpl</td><td>The last six characters XXXXXX are replaced with a string that makes the filename unique. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tmpl.</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2535a13bca7dff2bf00eb2438a00d786"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2535a13bca7dff2bf00eb2438a00d786">&#9670;&nbsp;</a></span>ADUC_SystemUtils_ReadStringFromFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ADUC_SystemUtils_ReadStringFromFile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buffLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the data from <code>path</code> into <code>buff</code> up to <code>buffLen</code> bytes. </p>
<p>Only up to <code>buffLen</code> - 1 bytes will be read from the file to save space for the null terminator </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>path to the file to read from </td></tr>
    <tr><td class="paramname">buff</td><td>buffer for the data to go into </td></tr>
    <tr><td class="paramname">buffLen</td><td>the maximum amount of data to be written to buff including the null-terminator </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns 0 on success; errno or -1 on failure </dd></dl>

</div>
</div>
<a id="a2ef595b9a17fe544798322e351116bd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ef595b9a17fe544798322e351116bd8">&#9670;&nbsp;</a></span>ADUC_SystemUtils_RmDirRecursive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ADUC_SystemUtils_RmDirRecursive </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a directory recursively. </p>
<p>Directories are handled before the files and subdirectories they contain (preorder traversal). If fn() returns nonzero, then the tree walk is terminated and the value returned by fn() is returned as the result of nftw().</p>
<dl class="section return"><dt>Returns</dt><dd>int errno, 0 if success. </dd></dl>

</div>
</div>
<a id="a7770614ef0aabef4a50519523aa9807e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7770614ef0aabef4a50519523aa9807e">&#9670;&nbsp;</a></span>ADUC_SystemUtils_WriteStringToFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ADUC_SystemUtils_WriteStringToFile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>buff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes <code>buff</code> to file at <code>path</code> using. </p>
<p>This function overwrites the current data in <code>path</code> with <code>buff</code> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>the path to the file to write data </td></tr>
    <tr><td class="paramname">buff</td><td>data to be written to the file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>in On success 0 is returned; otherwise errno or -1 on failure </dd></dl>

</div>
</div>
<a id="a849620164e5c7d219fa6c3d9909e978d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a849620164e5c7d219fa6c3d9909e978d">&#9670;&nbsp;</a></span>SystemUtils_ForEachDir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SystemUtils_ForEachDir </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>baseDir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>excludedDir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="system__utils_8h.html#a5cfe1d6eabc173e31485040fc844a675">ADUC_SystemUtils_ForEachDirFunctor</a> *&#160;</td>
          <td class="paramname"><em>perDirActionFunctor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>For each dir_name in the baseDir, it calls the action function with the baseDir and dir_name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">baseDir</td><td>The base dir to list directories in. </td></tr>
    <tr><td class="paramname">excludedDir</td><td>A dir to exclude via exact match in addition to . and .. dirs. NULL means to exclude only . and .. dirs. </td></tr>
    <tr><td class="paramname">perDirActionFunctor</td><td>The functor to apply for each dir in the baseDir. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if succeeded in calling the action func for every dir in baseDir (except . and .. dirs). </dd></dl>

</div>
</div>
<a id="a1449bf64b859fd5bde7f36eda8682db7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1449bf64b859fd5bde7f36eda8682db7">&#9670;&nbsp;</a></span>SystemUtils_IsDir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SystemUtils_IsDir </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the file object at the given path is a directory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path. </td></tr>
    <tr><td class="paramname">err</td><td>the error code (optional, can be NULL) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if it is a directory, false otherwise. </dd></dl>

</div>
</div>
<a id="a8a9fa34c2cc7a495ac26df879057bb7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a9fa34c2cc7a495ac26df879057bb7c">&#9670;&nbsp;</a></span>SystemUtils_IsFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SystemUtils_IsFile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the file object at the given path is a file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path. </td></tr>
    <tr><td class="paramname">err</td><td>the error code (optional, can be NULL) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if it is a file, false otherwise. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
